<app-top-navbar [data]="data" [z10]="!modalState"></app-top-navbar>

<!-- Content -->
<div class="p-3 space-y-4 z-0" *ngIf="data !== undefined">
  <!-- <h4 class="font-semibold mt-9">Restaurantes</h4> -->
  <div class="overflow-x-scroll flex items-stretch flex space-x-4">
    <div *ngFor="let restaurants of data.menu" class="relative justify-between bg-white shadow-md rounded-3xl bg-cover w-64 h-64 text-gray-800 object-cover object-center rounded-lg shadow-md my-2"
         style="background-image:url('http://localhost:1337/uploads/images/menu/{{restaurants.image}}')" (click)="onOpenModal(restaurants.name, restaurants.image, restaurants.price + ' ' + restaurants.currency, restaurants.description)">
      <div class="absolute bg-gray-700 opacity-50 rounded-3xl inset-0 z-0"></div>
      <div class="relative flex flex-row items-end  h-64 w-full" style="width: 50vw !important;">
        <div class="absolute right-0 top-0 m-2">
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-9 w-9 p-2 text-gray-200 hover:text-blue-400 rounded-full hover:bg-white transition ease-in duration-200 "
               fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
          </svg>
        </div>
        <div class="mb-5 p-6 rounded-lg  flex flex-col w-full" [class.z-10]="!modalState">
          <h4 class="mt-1 text-white text-xl font-semibold  leading-tight truncate">{{restaurants.name}}
          </h4>
          <div class="flex justify-between items-center ">
            <div class="flex flex-col">
              <h2 class="text-sm flex items-center text-gray-300 font-normal">
                {{restaurants.price}} {{restaurants.currency}}
                <!-- Dubai -->
              </h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <h4 class="font-semibold"><!-- Suggested By --></h4>
  <div class="grid grid-cols-1">
    <div *ngFor="let category of data.category">
      <div [class.mt-6]="category.id !== data.category[0].id" class="flex bg-white shadow-md rounded-2xl p-2">
        <img src="http://localhost:1337/uploads/images/menu/category/{{category.image}}"
             *ngIf="category.image != ''" class="w-16 object-cover h-16 rounded-xl">
        <div class="flex flex-col justify-center w-full px-2 py-1">
          <div class="flex justify-between items-center ">
            <div class="flex flex-col">
              <h2 class="text-sm font-medium">{{category.name}}</h2>
            </div>
            <button type="button" class="text-white bg-purple-700 hover:bg-purple-800
              font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700"
                    routerLink="category/{{category.id}}">Ver</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div
  class="sticky bottom-2 p-5 px-6 m-2 mt-9 flex items-center justify-between   bg-gray-900 shadow-3xl text-gray-400 rounded-2xl cursor-pointer">
  <div class="flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
         stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z">
      </path>
    </svg>
  </div>
  <div class="flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ">
    <i class="fas fa-search fa-lg"></i>
  </div>
  <div class="flex flex-col items-center  hover:text-blue-400 ">
    <div
      class="absolute bottom-5 shadow-2xl text-center flex items-center justify-center rounded-full border-4 text-3xl border-gray-50 hover:border-blue-500 bg-blue-500 w-20 h-20 p-2 text-white transition ease-in duration-200 ">
      <i class="fab fa-whatsapp"></i>
      <span
        class="animate-ping absolute inline-flex h-full w-full rounded-full border-4 opacity-50"></span>
    </div>
  </div>
  <div class="flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
         stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
    </svg>
  </div>
  <div class="flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
         stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z">
      </path>
    </svg>
  </div>
</div>

<app-modal-product [image]="product.image"
                   [price]="product.price"
                   [description]="product.description"
                   [title]="product.title"
                   [modalState]="modalState" (close)="onCloseModal()"></app-modal-product>
